.. design

======
Design
======

Replicator
==========

.. code-block:: bash

   +----------------+                 +----------------+
   |     SDN ID     |                 |     SDN ID     |
   +----------------+                 +----------------+

   +----------------+                 +----------------+
   |     Master     |                 |      Slave     |
   +----------------+                 +----------------+

   +----------------+                 +----------------+
   |   Replicator   |    < -------    |   Replicator   |
   +----------------+       check     +----------------+
   |  SQL connector |                 |  SQL connector |
   +----------------+                 +----------------+
          .                                  .
   +----------------+                 +----------------+
   |  No sync rel.  |                 |  No sync rel.  |
   +----------------+                 +----------------+
          .                                  .
   +----------------+                 +----------------+
   |   Replicator   |    < -------    |   Replicator   |
   +----------------+       check     +----------------+
   |     Service    |                 |     Service    |
   |    Processor   |                 |    Processor   |
   +----------------+                 +----------------+

Flow Examples
=============

Internal SQL to external Service
********************************

.. code-block:: bash

   +---------------+
   | SQL JSON data |
   +---------------+
           |
   +---------------+
   |  ClassMapper  |
   +---------------+
           |
   +---------------+
   | ServiceMapper |
   +---------------+
           |
   +---------------+
   |  Serializer   |
   +---------------+
           |
   +---------------+
   |    Service    |
   |   Processor   |
   +---------------+

Exernal Input to Database and external Service call
***************************************************

.. code-block:: bash

   +---------------+
   |  ExtService   |
   |     Input     |
   +---------------+
           |
   +---------------+
   |  ClassMapper  |
   +---------------+
           |
   +---------------+
   | ServiceMapper |
   +---------------+
           |
   +---------------+
   |  Serializer   |
   +---------------+
           |
   +---------------+
   | SQL connector |
   +---------------+
           |
   +---------------+
   |    Service    |
   |   Processor   |
   +---------------+
